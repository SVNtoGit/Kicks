<HBProfile xsi:noNamespaceSchemaLocation="../../../Schemas/QuestProfileSchema.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <!-- Original contribution by Kickazz006 -->
    <Name>[H - Quest] 90-92 SMV [Kick] ($Rev: 3405 $)</Name>

    <MinLevel>90</MinLevel>
    <MaxLevel>1001</MaxLevel>

    <MinDurability>0.3</MinDurability>
    <MinFreeBagSlots>3</MinFreeBagSlots>

    <!-- NB: Honorbuddy sells before mailing -->
    <SellGrey>true</SellGrey>
    <SellWhite>true</SellWhite>
    <SellGreen>true</SellGreen>
    <SellBlue>true</SellBlue>
    <SellPurple>false</SellPurple>

    <MailGrey>false</MailGrey>
    <MailWhite>true</MailWhite>
    <MailGreen>true</MailGreen>
    <MailBlue>true</MailBlue>
    <MailPurple>true</MailPurple>

    <TargetElites>true</TargetElites>

    <AvoidMobs>
        <Mob Name="Umbraspore Giant" Entry="82318" />
        <Mob Name="Volatile Spore" Entry="82328" />
        <Mob Name="Void-Torn Kaliri" Entry="79061" />
        <Mob Name="Void-Torn Kaliri" Entry="79061" />
		<Mob Name="Blazing Pyreclaw" Entry="80241" />		
 </AvoidMobs>

    <Blackspots>
        <Blackspot X="4330.935" Y="-2169.555" Z="19.06018" Radius="36.66254" /> <!-- Blackrock Quarry guys on roof -->
        <Blackspot X="1127.392" Y="-1447.719" Z="-11.02879" Radius="20" /> <!-- Elodor Fields infinite respawn -->
        <Blackspot X="435.5926" Y="-910.9053" Z="-33.97211" Radius="10" /> <!-- Underwater mud -->
        <Blackspot X="435.5926" Y="-910.9053" Z="-33.97211" Radius="10" /> <!-- Underwater mud -->
        <Blackspot X="455.7845" Y="-778.6798" Z="0.2282028" Radius="8" /> <!-- Height issue -->
        <Blackspot X="-391.8893" Y="-1375.101" Z="-19.66898" Radius="10" /> <!-- Root -->
		<Blackspot X="5744.393" Y="4540.156" Z="137.95" Radius="3" /><!-- Tent over the Garrison -->
		<Blackspot X="5682.228" Y="4637.82" Z="144.5025" Radius="3" /><!-- Tent East of Garrison -->
		<Blackspot X="5689.852" Y="4649.712" Z="144.4675" Radius="3" /><!-- Tent East of Garrison -->
		<Blackspot X="5730.713" Y="4541.729" Z="137.9492" Radius="3" /><!-- Tent East of Garrison -->
		<Blackspot X="5642.435" Y="4533.219" Z="118.8629" Radius="2" /> <!-- Fire in Garrison -->
		<Blackspot X="5627.592" Y="4406.474" Z="136.3424" Radius="3" /><!-- West of Garrison -->

    </Blackspots>

    <Mailboxes> <!-- Need to add Mailboxes and Vendors! -->

    </Mailboxes>

    <Vendors> <!-- Need to add Mailboxes and Vendors! -->

    </Vendors>

    <!-- BEGIN: Quest Overrides -->
    <Quest Id="35933" Name="Azeroth's Last Stand">
        <Objective Type="CollectItem" ItemId="113579" CollectCount="1">
            <CollectFrom>
                <Mob Id="81711" Name="Shadowmoon Ritualist" />
                <Mob Id="78883" Name="Iron Horde Grunt" />
            </CollectFrom>
            <Hotspots>
                <Hotspot X="4071.615" Y="-2313.849" Z="64.5879" />
                <Hotspot X="4053.425" Y="-2288.877" Z="64.953" />
                <Hotspot X="4033.576" Y="-2291.38" Z="64.95304" />
                <Hotspot X="4094.444" Y="-2285.734" Z="64.9526" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="35241" Name="Vengeance for the Fallen">
        <Objective Type="KillMob" MobId="78507" KillCount="6">
            <Hotspots>
                <Hotspot X="3738.129" Y="-2643.652" Z="57.97608" /> <!-- big pile of mobs -->
                <Hotspot X="3841.451" Y="-2531.578" Z="65.29623" /> <!-- Near southern cage -->
                <Hotspot X="3857.284" Y="-2539.166" Z="65.29778" />
                <Hotspot X="3768.822" Y="-2580.704" Z="58.17631" />
                <Hotspot X="3942.8" Y="-2649.907" Z="54.78093" />
                <Hotspot X="3957.454" Y="-2665.983" Z="54.9614" />
                <Hotspot X="3997.479" Y="-2673.221" Z="46.06325" />
                <Hotspot X="4043.685" Y="-2584.739" Z="52.08712" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34429" Name="Kill Your Hundred">
        <Objective Type="KillMob" MobId="82066" KillCount="100">
            <Hotspots>
                <Hotspot X="4388.781" Y="-2828.687" Z="4.838441" />
            </Hotspots>
        </Objective>
        <Objective Type="KillMob" MobId="82142" KillCount="99">
            <Hotspots>
                <Hotspot X="4388.781" Y="-2828.687" Z="4.838441" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34737" Name="Masters of Shadow">
        <Objective Type="KillMob" MobId="79583" KillCount="1">
            <Hotspots>
                <Hotspot X="4428.507" Y="-2464.642" Z="24.73536" /><!-- Ungra -->
            </Hotspots>
        </Objective>
        <Objective Type="KillMob" MobId="79585" KillCount="1">
            <Hotspots>
                <Hotspot X="4601.912" Y="-2520.348" Z="28.73624" /> <!-- Taskmaster Gurran -->
            </Hotspots>
        </Objective>
        <Objective Type="KillMob" MobId="79593" KillCount="1">
            <Hotspots>
                <Hotspot X="4614.044" Y="-2473.622" Z="14.03522" /> <!-- Ankova the Fallen -->
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34739" Name="The Shadowmoon Clan">
        <Objective Type="KillMob" MobId="79589" KillCount="12">
            <Hotspots>
                <Hotspot X="4572.167" Y="-2593.409" Z="1.107839" />
                <Hotspot X="4428.507" Y="-2464.642" Z="24.73536" />
                <Hotspot X="4601.912" Y="-2520.348" Z="28.73624" /> <!-- Taskmaster Gurran -->
                <Hotspot X="4614.044" Y="-2473.622" Z="14.03522" /> <!-- Ankova the Fallen -->
                <Hotspot X="4496.582" Y="-2539.107" Z="12.67649" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34741" Name="Keli'dan the Breaker">
        <Objective Type="KillMob" MobId="79702" KillCount="1">
            <Hotspots>
                <Hotspot X="4510.351" Y="-2426.813" Z="25.07605" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="35005" Name="Prepare for Battle">
        <Objective Type="CollectItem" ItemId="112337" CollectCount="30">
            <CollectFrom>
                <Mob Name="Blackrock Forgeworker" Id="81367" />
                <Mob Name="Blackrock Slaghauler" Id="81357" />
                <Object Name="Iron Horde Weapon Rack" Id="231164" />
                <Object Name="Iron Horde Weapon Rack" Id="231163" />
                <Object Name="Iron Horde Weapon Rack" Id="231160" />
                <Object Name="Iron Horde Weapon" Id="231166" />
                <Object Name="Iron Horde Weapon" Id="231167" />
                <Object Name="Iron Horde Weapon" Id="231168" />
            </CollectFrom>
            <Hotspots>
                <Hotspot X="4564.294" Y="-2039.26" Z="-17.96849" />
                <Hotspot X="4526.458" Y="-2084.793" Z="-17.1782" />
                <Hotspot X="4533.692" Y="-2185.161" Z="-15.3794" />
                <Hotspot X="4539.031" Y="-2214.725" Z="-14.58103" />
                <Hotspot X="4471.87" Y="-2124.049" Z="-15.60532" />
                <Hotspot X="4564.921" Y="-1976.974" Z="-14.02075" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34439" Name="The Battle of the Forge">
        <Objective Type="KillMob" MobId="80786" KillCount="15">
            <Hotspots>
                <Hotspot X="4564.294" Y="-2039.26" Z="-17.96849" />
                <Hotspot X="4526.458" Y="-2084.793" Z="-17.1782" />
                <Hotspot X="4533.692" Y="-2185.161" Z="-15.3794" />
                <Hotspot X="4539.031" Y="-2214.725" Z="-14.58103" />
                <Hotspot X="4471.87" Y="-2124.049" Z="-15.60532" />
                <Hotspot X="4564.921" Y="-1976.974" Z="-14.02075" />
            </Hotspots>
        </Objective>
        <Objective Type="KillMob" MobId="80775" KillCount="3">
            <Hotspots>
                <Hotspot X="4564.294" Y="-2039.26" Z="-17.96849" />
                <Hotspot X="4526.458" Y="-2084.793" Z="-17.1782" />
                <Hotspot X="4533.692" Y="-2185.161" Z="-15.3794" />
                <Hotspot X="4539.031" Y="-2214.725" Z="-14.58103" />
                <Hotspot X="4471.87" Y="-2124.049" Z="-15.60532" />
                <Hotspot X="4564.921" Y="-1976.974" Z="-14.02075" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34987" Name="The Gunpowder Plot">
        <Objective Type="CollectItem" ItemId="112323" CollectCount="1">
            <CollectFrom>
                <Object Name="Blackrock Powder Keg" Id="231119" />
            </CollectFrom>
            <Hotspots>
                <Hotspot X="4325.136" Y="-2185.764" Z="6.822516" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34958" Name="The Shadow of the Worldbreaker">
        <Objective Type="CollectItem" ItemId="112142" CollectCount="1">
            <CollectFrom>
                <Mob Name="Blackrock Laborer" Id="81063" />
                <Mob Name="Blackrock Machinist" Id="80468" />
            </CollectFrom>
            <Hotspots>
                <Hotspot X="4334.984" Y="-2020.045" Z="1.742716" />
                <Hotspot X="4204.162" Y="-2057.519" Z="0.9799032" />
                <Hotspot X="4227.202" Y="-2099.768" Z="4.766775" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34925" Name="Polishing the Iron Throne">
        <Objective Type="CollectItem" ItemId="112243" CollectCount="1">
            <CollectFrom>
                <Mob Name="Overseer Gotrigg" Id="80574" />
            </CollectFrom>
            <Hotspots>
                <Hotspot X="4202.648" Y="-2153.597" Z="-9.404058" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34375" Name="Back to Work">
        <Objective Type="UseObject" ObjectId="230527" UseCount="8">
            <Hotspots>
				<Hotspot X="5659.157" Y="4492.327" Z="130.3331" />
				<Hotspot X="5640.342" Y="4479.176" Z="134.2689" />
				<Hotspot X="5611.224" Y="4449.157" Z="139.8483" />
				<Hotspot X="5615.57" Y="4402.084" Z="137.2529" />
				<Hotspot X="5558.542" Y="4444.46" Z="141.6531" />
				<Hotspot X="5492.538" Y="4486.433" Z="139.9032" />
				<Hotspot X="5550.367" Y="4557.967" Z="137.1317" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34592" Name="A Gronnling Problem">
        <Objective Type="KillMob" MobId="79529" KillCount="8">
            <Hotspots>
				<Hotspot X="5745.315" Y="4537.067" Z="139.3038" />
				<Hotspot X="5744.18" Y="4490.308" Z="132.401" />
				<Hotspot X="5692.128" Y="4475.181" Z="136.9346" />
				<Hotspot X="5650.967" Y="4492.552" Z="129.2171" />
				<Hotspot X="5625.812" Y="4422.503" Z="136.4541" />
				<Hotspot X="5585.404" Y="4398.058" Z="138.6662" />
				<Hotspot X="5578.223" Y="4366.692" Z="141.0338" />
				<Hotspot X="5538.51" Y="4427.529" Z="141.9896" />
				<Hotspot X="5483.246" Y="4448.644" Z="145.2815" />
				<Hotspot X="5497.38" Y="4499.054" Z="136.5515" />
				<Hotspot X="5537.296" Y="4535.564" Z="135.3156" />
				<Hotspot X="5590.301" Y="4578.977" Z="138.5254" />
				<Hotspot X="5660.762" Y="4632.322" Z="146.1384" />
				<Hotspot X="5704.862" Y="4632.188" Z="145.5139" />
				<Hotspot X="5709.703" Y="4588.524" Z="142.7336" />
				<Hotspot X="5726.001" Y="4544.172" Z="138.3621" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34765" Name="The Den of Skog">
        <Objective Type="KillMob" MobId="79903" KillCount="1">
            <Hotspots>
                <Hotspot X="5418.706" Y="4536.045" Z="139.1233" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34822" Name="What We Need">
        <Objective Type="CollectItem" ItemId="111907" CollectCount="10">
            <CollectFrom>
                <Object Name="Drudgeboat Salvage" Id="230879" />
                <Object Name="Drudgeboat Salvage" Id="230880" />
                <Object Name="Drudgeboat Salvage" Id="230881" />
                <Mob Name="Pack Boar" Id="80174" />
            </CollectFrom>
            <Hotspots>
                <Hotspot X="5714.046" Y="4998.377" Z="38.29638" />
                <Hotspot X="5702.273" Y="5080.373" Z="34.78156" />
                <Hotspot X="5789.953" Y="5109.611" Z="59.52367" />
                <Hotspot X="5882.271" Y="4990.062" Z="26.21188" />
                <Hotspot X="5873.633" Y="4956.935" Z="26.16006" />
            </Hotspots>
        </Objective>
    </Quest>
    <Quest Id="34823" Name="The Ogron Live?">
        <Objective Type="KillMob" MobId="80167" KillCount="1"> <!-- Groog -->
            <Hotspots>
                <Hotspot X="5873.633" Y="4956.935" Z="26.16006" />
            </Hotspots>
        </Objective>
    </Quest>
   <!-- END: Quest Overrides -->
   <!-- SMV - Gorgrond - Talador - Spires - Nagrand -->


    <QuestOrder IgnoreCheckpoints="true" >
         <While Condition="Me.IsAlliance">
            <CustomBehavior File="UserDialog" AllowBotStop="true" SoundCue="Exclamation"
                            SoundCueInterval="1" Text="You must be Horde to run this profile!" />
        </While>
       <!-- BEGIN: Checkpoint Block
             This code needs to be replicated after every checkpoint.
             If you modify something in this block, don't forget to update the copy of this
             block after each checkpoint, and the at the start of the <QuestOrder>, also.
        -->
        <CustomBehavior File="Misc\RunLua" Lua="SetCVar('AutoLootDefault', 1)" />
        <CustomBehavior File="UserSettings" AutoEquip="true" />

        <CustomBehavior File="EnablePlugin" Names="Anti Drown" />
        <CustomBehavior File="EnablePlugin" Names="Refreshment Detection" />

        <CustomBehavior File="Misc\ProfileCompatibilityInfo" AllowBrokenAddOns="true" AllowBrokenPlugIns="true" />

        <LootMobs Value="true" />
        <TargetingDistance Value="45" /> <!-- Use LevelBot default -->
        <UseMount Value="true" />
        <!-- END: Checkpoint Block -->

        <CustomBehavior File="Message" Text="Compiling SW Quests" LogColor="CornflowerBlue" />
		
			<CustomBehavior File="UserDialog" AllowBotStop="True" SoundCue="Exclamation" SoundCueInterval="3" ExpiryTime="9" ExpiryAction="InputEnabled_Continue" 
			Text="HORDE ONLY GOES TO END OF GARRISON, NO MORE QUESTS AFTER THAT. DO NOT POST ON FORUMS AND ASK FOR MORE. ALLY IS GETTING DONE FIRST. " />


            <If Condition="!IsQuestCompleted(34420)" > <!-- Pull Distance Modifier for high mob count areas -->
                <TargetingDistance Value="5" /> <!-- Use LevelBot default -->
            </If>

            <If Condition="HasQuest(36881) &amp;&amp; !IsQuestCompleted(36881)" >
				<UseMount Value="false" />
				
				<MoveTo X="1585.265" Y="-4370.585" Z="20.78289" /> <!-- The Dark Portal -->
                <CustomBehavior File="InteractWith" MobId="78423" KeepTargetSelected="True" PreInteractMountStrategy="DismountOrCancelShapeshift" 
											GossipOptions="1" NonCompeteDistance="0" Range="5" WaitTime="5000" X="1592.226" Y="-4373.335" Z="20.77822" /> <!-- Khadgar -->
 				<CustomBehavior File="Misc\RunLua" Lua="StaticPopup1Button1:Click()" WaitTime="3000" />
                <CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for port {TimeRemaining}" />
                <!-- kill cinematic -->
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="3000" />
            </If>
             <If Condition="HasQuest(36881)" >
       <TurnIn QuestName="The Dark Portal" QuestId="36881" TurnInName="Archmage Khadgar" TurnInId="78558" X="4066.427" Y="-2372.571" Z="94.59667" />
             </If>
       <!-- End of SW / Callboard -->

            <!-- Dark Portal -->
            <If Condition="!IsQuestCompleted(34393)" > <!-- Disable Pull for Dark Portal -->
                <DisableBehavior Name="Pull" />
            </If>
        <PickUp QuestName="Azeroth's Last Stand" QuestId="35933" GiverName="Archmage Khadgar" GiverId="78558" X="4066.427" Y="-2372.571" Z="94.59667" />
            <While Condition="HasQuest(35933) &amp;&amp; !IsQuestCompleted(35933)"> <!-- Azeroth's Last Stand -->
                <CustomBehavior File="InteractWith" QuestId="35933" MobId="78883" MobState="Alive" X="4066.309" Y="-2304.655" Z="64.92082" />
            </While>
            <While Condition="HasQuest(35933) &amp;&amp; IsQuestCompleted(35933)"> <!-- Turnin Azeroth's Last Stand, Pickup Onslaught's End -->
                <TurnIn QuestId="35933" /> <!-- Get 34392 -->
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for CLQ {TimeRemaining}" />
            </While>
            <If Condition="HasQuest(34392) &amp;&amp; !IsQuestCompleted(34392)" > <!-- Onslaught's End -->
             <While Condition="!IsObjectiveComplete(1, 34392)"> <!-- North -->
                <MoveTo X="4167.385" Y="-2287.48" Z="59.87266" />
                <CustomBehavior File="InteractWith" QuestId="34392" MobId="233056" ObjectType="GameObject" NonCompeteDistance="0" Range="8" WaitTime="3000" X="4167.385" Y="-2287.48" Z="59.87266" />
             </While>
             <While Condition="!IsObjectiveComplete(2, 34392)"> <!-- South -->
                <MoveTo X="3964.42" Y="-2290.505" Z="59.67453" />
                <CustomBehavior File="InteractWith" QuestId="34392" MobId="233057" ObjectType="GameObject" NonCompeteDistance="0" Range="8" WaitTime="3000" X="3964.42" Y="-2290.505" Z="59.67453" />
             </While>
            </If>
        <TurnIn QuestName="Onslaught's End" QuestId="34392" TurnInName="Archmage Khadgar" TurnInId="78558" X="4066.427" Y="-2372.571" Z="94.59733" />
        <PickUp QuestName="The Portal's Power" QuestId="34393" GiverName="Archmage Khadgar" GiverId="78558" X="4066.427" Y="-2372.571" Z="94.59733" />
            <If Condition="HasQuest(34393) &amp;&amp; !IsQuestCompleted(34393)" > <!-- The Portal's Power -->
             <While Condition="!IsObjectiveComplete(1, 34393)"> <!-- Enter the Soul Chamber -->
                <MoveTo X="4026.397" Y="-2377.47" Z="79.60987" />
                <MoveTo X="4034.27" Y="-2377.651" Z="79.64513" />
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <!-- kill cinematic -->
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="1000" />
             </While>
                <CustomBehavior File="InteractWith" QuestId="34393" MobId="229598" ObjectType="GameObject" NonCompeteDistance="0" Range="8" TerminateWhen="IsObjectiveComplete(2, 34393)" WaitTime="3000" X="4099.781" Y="-2402.887" Z="69.81522" /> <!-- Burning Blade -->
                <CustomBehavior File="InteractWith" QuestId="34393" MobId="229599" ObjectType="GameObject" NonCompeteDistance="0" Range="8" TerminateWhen="IsObjectiveComplete(3, 34393)" WaitTime="3000" X="4067.173" Y="-2435.339" Z="69.09592" /> <!-- Shattered Hand -->
                <CustomBehavior File="InteractWith" QuestId="34393" MobId="229600" ObjectType="GameObject" NonCompeteDistance="0" Range="8" TerminateWhen="IsObjectiveComplete(4, 34393)" WaitTime="3000" X="4033.497" Y="-2403.375" Z="69.81548" /> <!-- Blackrock -->
                <CustomBehavior File="InteractWith" QuestId="34393" MobId="233104" ObjectType="GameObject" NonCompeteDistance="0" Range="8" TerminateWhen="IsObjectiveComplete(5, 34393)" WaitTime="3000" X="4066.543" Y="-2402.026" Z="78.02605" /> <!-- Stasis Core -->
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="1000" />
            </If>
        <TurnIn QuestName="The Portal's Power" QuestId="34393" TurnInName="Archmage Khadgar" TurnInId="78558" X="4066.427" Y="-2372.571" Z="94.59733" />
        <PickUp QuestName="The Cost of War" QuestId="34420" GiverName="Archmage Khadgar" GiverId="78558" X="4066.427" Y="-2372.571" Z="94.59733" />
            <If Condition="HasQuest(34420) &amp;&amp; IsQuestCompleted(34393)" > <!-- Enable Pull for Dark Portal -->
				<UseMount Value="true" />
               <EnableBehavior Name="Pull" />
                <TargetingDistance Value="17" />
            </If>
        <!-- End of Dark Portal -->

        <!-- Heartblood -->
            <If Condition="HasQuest(34420)" > <!-- The Cost of War - Turnin -->
                <MoveTo X="3936.718" Y="-2505.224" Z="69.73077" />
                <CustomBehavior File="WaitTimer" WaitTime="7000" GoalText="Waiting for quest to complete {TimeRemaining}" />
        <TurnIn QuestName="The Cost of War" QuestId="34420" TurnInName="Archmage Khadgar" TurnInId="78559" X="3936.718" Y="-2505.224" Z="69.73077" /> <!-- NEW NPC ID -->
                <TargetingDistance Value="45" />
            </If>
        <PickUp QuestName="Blaze of Glory" QuestId="34422" GiverName="Archmage Khadgar" GiverId="78559" X="3936.718" Y="-2505.224" Z="69.73077" /> <!-- Npc leaves -->
        <PickUp QuestName="Vengeance for the Fallen" QuestId="35241" GiverName="Ashka" GiverId="81761" X="3991.509" Y="-2552.361" Z="65.91938" />
        <PickUp QuestName="Bled Dry" QuestId="34421" GiverName="Korag" GiverId="78573" X="3990.776" Y="-2553.924" Z="66.00689" />
            <If Condition="HasQuest(34421) &amp;&amp; !IsQuestCompleted(34421)" > <!-- Bled Dry -->
                <CustomBehavior File="InteractWith" QuestId="34421" MobId="229353" ObjectType="GameObject" NonCompeteDistance="0" Range="8" TerminateWhen="IsObjectiveComplete(1, 34421)" WaitTime="3000" X="3973.628" Y="-2638.917" Z="55.65278" /> <!-- Eastern Cage -->
                <CustomBehavior File="InteractWith" QuestId="34421" MobId="229352" ObjectType="GameObject" NonCompeteDistance="0" Range="8" TerminateWhen="IsObjectiveComplete(2, 34421)" WaitTime="3000" X="3831.097" Y="-2522.03" Z="67.82376" /> <!-- Southern Cage -->
            </If>
            <While Condition="HasQuest(34422) &amp;&amp; !IsQuestCompleted(34422)" > <!-- Blaze of Glory -->
                <UseItem QuestId="34422" ItemId="113191" X="3841.451" Y="-2531.578" Z="65.29623" />
                <UseItem QuestId="34422" ItemId="113191" X="3857.284" Y="-2539.166" Z="65.29778" />
                <UseItem QuestId="34422" ItemId="113191" X="3768.822" Y="-2580.704" Z="58.17631" />
                <UseItem QuestId="34422" ItemId="113191" X="3942.8" Y="-2649.907" Z="54.78093" />
                <UseItem QuestId="34422" ItemId="113191" X="3957.454" Y="-2665.983" Z="54.9614" />
                <UseItem QuestId="34422" ItemId="113191" X="3997.479" Y="-2673.221" Z="46.06325" />
                <UseItem QuestId="34422" ItemId="113191" X="4043.685" Y="-2584.739" Z="52.08712" />
            </While>
            <Objective QuestName="Vengeance for the Fallen" QuestId="35241" Type="KillMob" MobId="78507" KillCount="6" />
        <TurnIn QuestName="Vengeance for the Fallen" QuestId="35241" TurnInName="Thrall" TurnInId="78553" X="3844.734" Y="-2786.684" Z="94.0868" />
        <TurnIn QuestName="Bled Dry" QuestId="34421" TurnInName="Archmage Khadgar" TurnInId="78559" X="3839.859" Y="-2777.118" Z="93.84189" />
        <TurnIn QuestName="Blaze of Glory" QuestId="34422" TurnInName="Archmage Khadgar" TurnInId="78559" X="3839.859" Y="-2777.118" Z="93.84189" />
        <PickUp QuestName="Altar Altercation" QuestId="34423" GiverName="Archmage Khadgar" GiverId="78559" X="3839.859" Y="-2777.118" Z="93.84189" />
            <If Condition="HasQuest(34423) &amp;&amp; !IsQuestCompleted(34423)" > <!-- Altar Altercation -->
             <While Condition="!IsObjectiveComplete(1, 34423)"> <!-- Speak to Ariok -->
                <CustomBehavior File="InteractWith" MobId="78556" GossipOptions="1" Range="5" X="3842.366" Y="-2787.323" Z="94.29414" /> <!-- Ariok -->
             </While>
             <While Condition="!IsObjectiveComplete(2, 34423)"> <!-- Escort Ariok (MoveTo new spot) -->
                <MoveTo X="3953.007" Y="-2889.559" Z="60.34301" />
             </While>
             <While Condition="!IsObjectiveComplete(3, 34423)"> <!-- Destroy Blood Ritual Orbs x3 -->
                <CustomBehavior File="InteractWith" QuestId="34423" MobId="83670" Range="8" WaitTime="3000" X="3975.969" Y="-2896.4" Z="61.32322" />
                <CustomBehavior File="InteractWith" QuestId="34423" MobId="83670" Range="8" WaitTime="3000" X="3985.049" Y="-2933.867" Z="62.71131" />
                <CustomBehavior File="InteractWith" QuestId="34423" MobId="83670" Range="8" WaitTime="3000" X="3985.527" Y="-2950.739" Z="91.71924" />

                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="2000" />
             </While>
             <While Condition="!IsObjectiveComplete(4, 34423)"> <!-- Find Khadgar on Tar'thog Bridge -->
                <MoveTo X="4191.499" Y="-2786.998" Z="26.74773" /> <!-- Npc Id 78560 -->
             </While>
            </If>
        <TurnIn QuestName="Altar Altercation" QuestId="34423" TurnInName="Archmage Khadgar" TurnInId="78560" X="4191.499" Y="-2786.998" Z="26.74773" /> <!-- NEW NPC ID -->
        <PickUp QuestName="The Kargathar Proving Grounds" QuestId="34425" GiverName="Archmage Khadgar" GiverId="78560" X="4191.499" Y="-2786.998" Z="26.74773" />
            <If Condition="HasQuest(34425) &amp;&amp; !IsQuestCompleted(34425)" > <!-- The Kargathar Proving Grounds -->
                <MoveTo X="4229.732" Y="-2812.947" Z="17.11976" />
            </If>
        <TurnIn QuestName="The Kargathar Proving Grounds" QuestId="34425" TurnInName="Archmage Khadgar" TurnInId="78560" X="4229.732" Y="-2812.947" Z="17.11976" /> <!-- New npc location -->
        <!-- End Heartblood -->

        <!-- Kargathar Proving Grounds -->
        <PickUp QuestName="A Potential Ally" QuestId="34427" GiverName="Archmage Khadgar" GiverId="78560" X="4229.732" Y="-2812.947" Z="17.11976" />
            <While Condition="HasQuest(34427) &amp;&amp; !IsQuestCompleted(34427)" > <!-- A Potential Ally -->
                <MoveTo X="4295.471" Y="-2713.788" Z="8.792819" />
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for agro to clear {TimeRemaining}" />
                <UseItem QuestId="34427" ItemId="110799" X="4295.471" Y="-2713.788" Z="8.792819" /> <!-- Channel for ~10s -->
            </While>
        <TurnIn QuestName="A Potential Ally" QuestId="34427" TurnInName="Farseer Drek'Thar" TurnInId="78996" X="4216.026" Y="-2816.63" Z="16.91717" />
        <PickUp QuestName="Kill Your Hundred" QuestId="34429" GiverName="Archmage Khadgar" GiverId="78560" X="4229.732" Y="-2812.947" Z="17.11976" />
            <If Condition="HasQuest(34429) &amp;&amp; !IsQuestCompleted(34429)" > <!-- Altar Altercation -->
             <While Condition="!IsObjectiveComplete(1, 34429)"> <!-- Enter the Arena -->
                <MoveTo X="4402.403" Y="-2826.078" Z="5.036519" />
                <!-- un cancelable cutscene -->
             </While>
             <While Condition="!IsObjectiveComplete(2, 34429)"> <!-- Kill 99 / 100 mobs - we could do escort group, but ... meh -->
                <MoveTo X="4396.81" Y="-2823.687" Z="4.992444" />
                <!--  kill: <WoWUnit Name="Shattered Hand Brawler" Entry="82057" X="4392.524" Y="-2822.002" Z="4.916245" /> -->
                <!--<Objective QuestName="Kill Your Hundred" QuestId="34429" Type="KillMob" MobId="82066" KillCount="100" />--> <!-- we can just /afk here and the npcs will handle it -->
                <!--<Objective QuestName="Kill Your Hundred" QuestId="34429" Type="KillMob" MobId="82142" KillCount="99" />-->
                <CustomBehavior File="WaitTimer" WaitTime="10000" GoalText="Waiting for objective to auto complete {TimeRemaining}" />
             </While>
             <While Condition="!IsObjectiveComplete(3, 34429)"> <!-- Escape Arena -->
                <MoveTo X="4510.224" Y="-2634.387" Z="1.843593" />
                <CustomBehavior File="WaitTimer" QuestId="34429" WaitTime="10000" GoalText="Waiting for cutscene {TimeRemaining}" /> <!-- don't edit timer - Kick -->
             </While>
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for cutscene {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="2000" />
            </If>
        <TurnIn QuestName="Kill Your Hundred" QuestId="34429" TurnInName="Archmage Khadgar" TurnInId="78561" X="4510.708" Y="-2635.453" Z="1.748904" /> <!-- New NPC Id -->
        <PickUp QuestName="The Shadowmoon Clan" QuestId="34739" GiverName="Thrall" GiverId="78553" X="4527.632" Y="-2636.3" Z="1.649512" />
        <PickUp QuestName="Masters of Shadow" QuestId="34737" GiverName="Luuka" GiverId="79661" X="4497.979" Y="-2628.984" Z="1.990316" />
            <Objective QuestName="Masters of Shadow" QuestId="34737" Type="KillMob" MobId="79593" KillCount="1" /> <!-- Ankova the Fallen -->
        <PickUp QuestName="Yrel" QuestId="34740" GiverName="Yrel" GiverId="78994" X="4614.925" Y="-2470.79" Z="13.76395" />
            <While Condition="HasQuest(34740) &amp;&amp; !IsQuestCompleted(34740)" > <!-- Yrel - 'Escort' Quest -->
                <RunTo X="4540.177" Y="-2503.882" Z="19.88293" />
                <CustomBehavior File="WaitTimer" QuestId="34740" WaitTime="15000" GoalText="Waiting for quest to complete {TimeRemaining}" />
                <CustomBehavior File="InteractWith" QuestId="34740" MobId="34740" NonCompeteDistance="0" X="4614.925" Y="-2470.79" Z="13.76395" /> <!-- failsafe -->
            </While>
            <Objective QuestName="Masters of Shadow" QuestId="34737" Type="KillMob" MobId="79585" KillCount="1" /> <!-- Taskmaster Gurran -->
            <Objective QuestName="Masters of Shadow" QuestId="34737" Type="KillMob" MobId="79583" KillCount="1" /> <!-- Ungra -->
            <Objective QuestName="The Shadowmoon Clan" QuestId="34739" Type="KillMob" MobId="79589" KillCount="12" />
        <TurnIn QuestName="Masters of Shadow" QuestId="34737" TurnInName="Lady Liadrin" TurnInId="79675" X="4216.026" Y="-2816.63" Z="16.91717" />
        <TurnIn QuestName="The Shadowmoon Clan" QuestId="34739" TurnInName="Olin Umberhide" TurnInId="79315" X="4513.478" Y="-2497.103" Z="25.72749" />
        <TurnIn QuestName="Yrel" QuestId="34740" TurnInName="Yrel" TurnInId="78994" X="4516.582" Y="-2495.618" Z="25.7887" />
        <PickUp QuestName="Keli'dan the Breaker" QuestId="34741" GiverName="Lady Liadrin" GiverId="79675" X="4516.949" Y="-2493.96" Z="25.81076" />
            <If Condition="HasQuest(34741) &amp;&amp; !IsQuestCompleted(34741)" > <!-- Keli'dan the Breaker -->
                <Objective QuestName="Keli'dan the Breaker" QuestId="34741" Type="KillMob" MobId="79702" KillCount="1" />
                <!-- If we're trying to heal, it won't skip -->
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for cutscene {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="10000" />
            </If>
        <TurnIn QuestName="Keli'dan the Breaker" QuestId="34741" TurnInName="Archmage Khadgar" TurnInId="78562" X="4610.563" Y="-2246.493" Z="15.40344" /> <!-- New NPC Id -->
            <!-- End Kargathar Proving Grounds -->

            <!-- Blackrock Quarry -->
        <PickUp QuestName="Prepare for Battle" QuestId="35005" GiverName="Thrall" GiverId="78553" X="4627.536" Y="-2259.734" Z="19.40447" />
            <Objective QuestName="Prepare for Battle" QuestId="35005" Type="CollectItem" ItemId="112337" CollectCount="30" />
        <TurnIn QuestName="Prepare for Battle" QuestId="35005" TurnInName="Thrall" TurnInId="78553" X="4627.536" Y="-2259.734" Z="19.40447" />
            <If Condition="!HasQuest(34439) &amp;&amp; !IsQuestCompleted(34439)" > <!-- The Battle of the Forge -->
        <PickUp QuestName="The Battle of the Forge" QuestId="34439" GiverName="Cordana Felsong" GiverId="78430" X="4613.3" Y="-2246.304" Z="15.1033" />
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="2000" />
            </If>
            <Objective QuestName="The Battle of the Forge" QuestId="34439" Type="KillMob" MobId="80775" KillCount="3" />
            <Objective QuestName="The Battle of the Forge" QuestId="34439" Type="KillMob" MobId="80786" KillCount="15" />
            <If Condition="HasQuest(34439) &amp;&amp; IsQuestCompleted(34439)" > <!-- The Battle of the Forge -->
        <TurnIn QuestName="The Battle of the Forge" QuestId="34439" TurnInName="Cordana Felsong" TurnInId="78996" X="4417.996" Y="-2090.691" Z="2.777354" /> <!-- cutscene -->
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="2000" />
            </If>
        <PickUp QuestName="Ga'nar of the Frostwolf" QuestId="34442" GiverName="Cordana Felsong" GiverId="78996" X="4417.996" Y="-2090.691" Z="2.777354" />
        <PickUp QuestName="The Gunpowder Plot" QuestId="34987" GiverName="Hansel Heavyhands" GiverId="78569" X="4366.801" Y="-2116.076" Z="2.378612" />
        <PickUp QuestName="The Shadow of the Worldbreaker" QuestId="34958" GiverName="Thaelin Darkanvil" GiverId="78568" X="4364.854" Y="-2115.491" Z="2.372308" />
            <If Condition="HasQuest(34987) &amp;&amp; !IsQuestCompleted(34987)" > <!-- The Gunpowder Plot -->
             <While Condition="!IsObjectiveComplete(1, 34987)"> <!-- Click Gunpowder -->
                <MoveTo X="4325.336" Y="-2185.328" Z="6.931957" />
                <CustomBehavior File="InteractWith" QuestId="34987" MobId="231119" NonCompeteDistance="0" ObjectType="GameObject" WaitTime="2000" WaitForNpcs="False" Range="4" X="4325.336" Y="-2185.328" Z="6.931957" />
             </While>
             <While Condition="!IsObjectiveComplete(2, 34987)"> <!-- Click Plunger -->
                <MoveTo X="4365.916" Y="-2114.574" Z="2.412212" />
                <CustomBehavior File="InteractWith" QuestId="34987" MobId="231066" NonCompeteDistance="0" ObjectType="GameObject" Range="2" X="4365.916" Y="-2114.574" Z="2.412212" />
             </While>
            </If>
        <TurnIn QuestName="The Gunpowder Plot" QuestId="34987" TurnInName="Hansel Heavyhands" TurnInId="78569" X="4366.801" Y="-2116.076" Z="2.378612" />
            <Objective QuestName="The Shadow of the Worldbreaker" QuestId="34958" Type="CollectItem" ItemId="112142" CollectCount="1" />
        <TurnIn QuestName="The Shadow of the Worldbreaker" QuestId="34958" TurnInName="Thaelin Darkanvil" TurnInId="78568" X="4364.854" Y="-2115.491" Z="2.372308" />
        <TurnIn QuestName="Ga'nar of the Frostwolf" QuestId="34442" TurnInName="Ga'nar" TurnInId="79917" X="4169.232" Y="-2061.663" Z="1.861482" />
        <PickUp QuestName="Polishing the Iron Throne" QuestId="34925" GiverName="Ga'nar" GiverId="79917" X="4169.232" Y="-2061.663" Z="1.861482" />
            <Objective QuestName="Polishing the Iron Throne" QuestId="34925" Type="CollectItem" ItemId="112243" CollectCount="1" />
        <TurnIn QuestName="Polishing the Iron Throne" QuestId="34925" TurnInName="Ga'nar" TurnInId="79917" X="4169.232" Y="-2061.663" Z="1.861482" />
        <PickUp QuestName="The Prodigal Frostwolf" QuestId="34437" GiverName="Ga'nar" GiverId="79917" X="4169.232" Y="-2061.663" Z="1.861482" />
        <TurnIn QuestName="The Prodigal Frostwolf" QuestId="34437" TurnInName="Farseer Drek'Thar" TurnInId="78996" X="4417.996" Y="-2090.691" Z="2.777332" />
        <PickUp QuestName="Taking a Trip to the Top of the Tank" QuestId="35747" GiverName="Archmage Khadgar" GiverId="78563" X="4380.106" Y="-2093.049" Z="4.028507" /> <!-- New NPC Id -->
            <If Condition="HasQuest(35747) &amp;&amp; !IsQuestCompleted(35747)" > <!-- Taking a Trip to the Top of the Tank - Escort -->
             <While Condition="!IsObjectiveComplete(1, 35747)"> <!-- Thaelin Darkanvil -->
                <CustomBehavior File="InteractWith" MobId="78568" GossipOptions="1" X="4364.854" Y="-2115.491" Z="2.372287" /> <!-- Thaelin Darkanvil -->
                <MoveTo X="4338.178" Y="-2060.592" Z="1.166897" />
             </While>
             <While Condition="!IsObjectiveComplete(2, 35747)"> <!-- Kill Gogluk
                <MoveTo X="4338.178" Y="-2060.592" Z="1.166897" />
                <CustomBehavior File="EscortGroup" QuestId="35747" EscortCompleteWhen="QuestObjectiveComplete" QuestObjectiveIndex="2" EscortCountMax="1"
                                            EscortNpcId="78568" EscortMaxFightDistance="15" SearchForNpcsRadius="75" >
                    <SearchPath>
                        <Hotspot X="4338.178" Y="-2060.592" Z="1.166897" />
                        <Hotspot X="4278.509" Y="-2019.878" Z="3.447598" />
                        <Hotspot X="4209.694" Y="-1980.295" Z="15.53718" />
                        <Hotspot X="4159.312" Y="-1968.087" Z="21.50705" />
                        <Hotspot X="4108.087" Y="-1931.512" Z="26.35879" />
                        <Hotspot X="4068.011" Y="-1922.626" Z="25.98899" />
                        <Hotspot X="4065.759" Y="-1955.649" Z="27.77714" />
                    </SearchPath>
                </CustomBehavior>
                -->
                <MoveTo X="4109.659" Y="-1930.428" Z="26.4752" />
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Kill noob mobs {TimeRemaining}" />
                <MoveTo X="4065.759" Y="-1955.649" Z="27.83311" />
              <While Condition="!IsObjectiveComplete(2, 35747)"> <!-- Thaelin Darkanvil & Kill Gogluk -->
                <MoveTo X="4065.759" Y="-1955.649" Z="27.83311" />
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Kill Gogluk npc 86039 {TimeRemaining}" />
              </While>
             </While>
             <While Condition="!IsObjectiveComplete(3, 35747)"> <!-- Climb the rear chains -->
                <MoveTo X="4064.357" Y="-2021.231" Z="74.99429" />
             </While>
            </If>
        <TurnIn QuestName="Taking a Trip to the Top of the Tank" QuestId="35747" TurnInName="Thaelin Darkanvil" TurnInId="80521" X="4062.665" Y="-2019.338" Z="74.87279" />
        <PickUp QuestName="A Taste of Iron" QuestId="34445" GiverName="Thaelin Darkanvil" GiverId="80521" X="4062.665" Y="-2019.338" Z="74.87279" />
            <If Condition="HasQuest(34445) &amp;&amp; !IsQuestCompleted(34445)" > <!-- A Taste of Iron - Vehicle Quest -->
             <If Condition="!IsObjectiveComplete(1, 34445)"> <!-- Mount Turret -->
                <CustomBehavior File="InteractWith" MobId="231261" MobType="GameObject" NonCompeteDistance="0" Range="5" X="4054.708" Y="-2019.128" Z="73.14471" />
             </If>
             <While Condition="!IsObjectiveComplete(2, 34445)"> <!-- Kill Mobs -->
                <CustomBehavior File="Misc\RunLua" Lua="OverrideActionBarButton1:Click()" WaitTime="100" />
                <CustomBehavior File="SpellLocation" QuestId="34445" X="3923.166" Y="-2020.857" Z="19.50727" />
                <CustomBehavior File="WaitTimer" WaitTime="400" GoalText="Waiting for GCD {TimeRemaining}" />
             </While>
             <While Condition="!IsObjectiveComplete(3, 34445)"> <!-- Click Trigger -->
                <CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for Cutscene {TimeRemaining}" />
                <RunTo X="4065.838" Y="-2022.482" Z="75.43866" />
                <CustomBehavior File="InteractWith" QuestId="34445" MobId="232538" ObjectType="GameObject" NonCompeteDistance="0" Range="6" X="4065.838" Y="-2022.482" Z="75.43866" />
             </While>
                <CustomBehavior File="WaitTimer" WaitTime="3000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="2000" />
            </If>
        <TurnIn QuestName="A Taste of Iron" QuestId="34445" TurnInName="Thaelin Darkanvil" TurnInId="80521" X="4062.665" Y="-2019.338" Z="74.87279" />
        <PickUp QuestName="The Home Stretch" QuestId="34446" GiverName="Thaelin Darkanvil" GiverId="80521" X="4062.665" Y="-2019.338" Z="74.87279" />
            <If Condition="HasQuest(34446) &amp;&amp; !IsQuestCompleted(34446)" > <!-- The Home Stretch -->
                <UseMount Value="false" />
                <CustomBehavior File="NoCombatMoveTo" X="3527.663" Y="-2125.812" Z="17.23087" />
                <UseMount Value="true" />
            </If>
            <If Condition="HasQuest(34446) &amp;&amp; IsQuestCompleted(34446)" > <!-- The Home Stretch -->
        <TurnIn QuestName="The Home Stretch" QuestId="34446" TurnInName="Archmage Khadgar" TurnInId="78563" X="3545.687" Y="-2123.458" Z="17.23104" />
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="2000" />
            </If>
        <!-- End of Blackrock Quarry -->

        <!-- Glacier Bay -->
        <PickUp QuestName="The Home of the Frostwolves" QuestId="33868" GiverName="Farseer Drek'Thar" GiverId="76411" X="5540.102" Y="5012.245" Z="12.88151" />
        <TurnIn QuestName="The Home of the Frostwolves" QuestId="33868" TurnInName="Farseer Drek'Thar" TurnInId="76411" X="5540.102" Y="5012.245" Z="12.88151" />
        <PickUp QuestName="A Song of Frost and Fire" QuestId="33815" GiverName="Farseer Drek'Thar" GiverId="76411" X="5540.102" Y="5012.245" Z="12.88151" />
			<While Condition="HasQuest(33815) &amp;&amp; !IsQuestCompleted(33815)" > <!-- A Song of Frost and Fire -->
				<MoveTo X="5434.371" Y="4952.309" Z="64.70995" />
				<CustomBehavior QuestId="33815" File="WaitTimer" WaitTime="20000" GoalText="Waiting for quest to complete {TimeRemaining}" />
			</While>
		<TurnIn QuestName="A Song of Frost and Fire" QuestId="33815" TurnInName="Durotan" TurnInId="78272" X="5435.163" Y="4949.397" Z="64.68141" />
		<PickUp QuestName="Of Wolves and Warriors" QuestId="34402" GiverName="Durotan" GiverId="78272" X="5435.163" Y="4949.397" Z="64.68141" />
            <If Condition="HasQuest(34402)" > <!-- Finding a Foothold -->
                <MoveTo X="5624.582" Y="4524.005" Z="119.4981" />
 				<CustomBehavior File="WaitTimer" WaitTime="60000" GoalText="Waiting for NPC {TimeRemaining}" />
           </If>
        <TurnIn QuestName="Of Wolves and Warriors" QuestId="34402" TurnInName="Thrall" TurnInId="70859" X="5611.71" Y="4525.859" Z="120.1812" />
        <PickUp QuestName="For the Horde!" QuestId="34364" GiverName="Thrall" GiverId="70859" X="5435.163" Y="4949.397" Z="64.68141" />
            <If Condition="HasQuest(34364) &amp;&amp; !IsQuestCompleted(34364)" > <!-- For the Horde! -->
                <CustomBehavior File="InteractWith" QuestId="34364" MobId="229057" ObjectType="GameObject" NonCompeteDistance="0" Range="5" X="5630.22" Y="4529.672" Z="119.0678" />
                <CustomBehavior File="WaitTimer" WaitTime="25000" GoalText="Waiting for camp to setup {TimeRemaining}" />
            </If>
        <TurnIn QuestName="For the Horde!" QuestId="34364" TurnInName="Gazlowe" TurnInId="78466" X="5630.22" Y="4529.672" Z="119.0678" />
        <!-- End of Glacier Bay -->

        <!-- Frostwall -->
        <PickUp QuestName="A Gronnling Problem" QuestId="34592" GiverName="Gazlowe" GiverId="78466" X="5628.997" Y="4525.767" Z="118.9772" />
        <PickUp QuestName="Back to Work" QuestId="34375" GiverName="Gazlowe" GiverId="78466" X="5628.997" Y="4525.767" Z="118.9772"  />
            <If Condition="HasQuest(34375) &amp;&amp; !IsQuestCompleted(34375)" > <!-- Looking for Lumber -->
                <CustomBehavior File="InteractWith" QuestId="34375" MobId="230527" MobType="GameObject" NonCompeteDistance="0" 
										NumOfTimes="20" WaitTime="2000" Range="5" CollectionDistance="1000" PreInteractMountStrategy="DismountOrCancelShapeshift" >
                  <HuntingGrounds WaypointVisitStrategy="Random" >
					<Hotspot X="5745.315" Y="4537.067" Z="139.3038" />
					<Hotspot X="5744.18" Y="4490.308" Z="132.401" />
					<Hotspot X="5692.128" Y="4475.181" Z="136.9346" />
					<Hotspot X="5650.967" Y="4492.552" Z="129.2171" />
					<Hotspot X="5625.812" Y="4422.503" Z="136.4541" />
					<Hotspot X="5585.404" Y="4398.058" Z="138.6662" />
					<Hotspot X="5578.223" Y="4366.692" Z="141.0338" />
					<Hotspot X="5538.51" Y="4427.529" Z="141.9896" />
					<Hotspot X="5483.246" Y="4448.644" Z="145.2815" />
					<Hotspot X="5497.38" Y="4499.054" Z="136.5515" />
					<Hotspot X="5537.296" Y="4535.564" Z="135.3156" />
					<Hotspot X="5590.301" Y="4578.977" Z="138.5254" />
					<Hotspot X="5660.762" Y="4632.322" Z="146.1384" />
					<Hotspot X="5704.862" Y="4632.188" Z="145.5139" />
					<Hotspot X="5709.703" Y="4588.524" Z="142.7336" />
					<Hotspot X="5726.001" Y="4544.172" Z="138.3621" />
                  </HuntingGrounds>
                </CustomBehavior>
            </If>
            <Objective QuestName="A Gronnling Problem" QuestId="34592" Type="KillMob" MobId="79529" KillCount="8" />
        <TurnIn QuestName="Back to Work" QuestId="34375" TurnInName="Gazlowe" TurnInId="78466" X="5628.997" Y="4525.767" Z="118.9772" />
        <TurnIn QuestName="A Gronnling Problem" QuestId="34592" TurnInName="Gazlowe" TurnInId="78466" X="5628.997" Y="4525.767" Z="118.9772" />
        <PickUp QuestName="The Den of Skog" QuestId="34765" GiverName="Gazlowe" GiverId="78466" X="5628.997" Y="4525.767" Z="118.9772" />
            <Objective QuestName="The Den of Skog" QuestId="34765" Type="KillMob" MobId="79903" KillCount="1" />
        <TurnIn QuestName="The Den of Skog" QuestId="34765" TurnInName="Gazlowe" TurnInId="78466" X="5628.997" Y="4525.767" Z="118.9772" />
        <PickUp QuestName="Establish Your Garrison" QuestId="34378" GiverName="Gazlowe" GiverId="78466" X="5628.997" Y="4525.767" Z="118.9772" />
            <If Condition="HasQuest(34378) &amp;&amp; !IsQuestCompleted(34378)" > <!-- Establish Your Garrison -->
                <CustomBehavior File="InteractWith" QuestId="34378" MobId="79243" GossipOptions="1" Range="5" X="5570.273" Y="4636.163" Z="146.499"  />
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="2000" />
            </If>
            <If Condition="HasQuest(34378) &amp;&amp; IsQuestCompleted(34378)" > <!-- Establish Your Garrison -->
        <TurnIn QuestName="Establish Your Garrison" QuestId="34378" TurnInName="Gazlowe" TurnInId="78466" X="5564.242" Y="4517.042" Z="132.0609" /> <!-- New NPC Id? -->
                <CustomBehavior File="WaitTimer" WaitTime="2000" GoalText="Waiting for Cinematic {TimeRemaining}" />
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="2000" />
            </If>
        <!-- End Frostwall main -->

        <!-- Our Character's Outpost / Garrison -->
        <PickUp QuestName="What We Need" QuestId="34822" GiverName="Gazlowe" GiverId="78466" X="5564.242" Y="4517.042" Z="132.0609"/>
        <PickUp QuestName="What We Got" QuestId="34824" GiverName="Gazlowe" GiverId="78466" X="5564.242" Y="4517.042" Z="132.0609" />
        <PickUp QuestName="The Ogron Live?" QuestId="34823" GiverName="Rokhan" GiverId="78487" X="5573.185" Y="4525.507" Z="130.2193" />
            <!-- Ignoring Quest Pickup from board 3+ quest -->
            <While Condition="HasQuest(34824) &amp;&amp; !IsQuestCompleted(34824)" > <!-- Keeping it Together -->
                <CustomBehavior File="InteractWith" QuestId="34824" MobId="80225" GossipOptions="1" Range="5" X="5576.162" Y="4597.182" Z="136.5887" TerminateWhen="IsObjectiveComplete(1, 34824)" WaitTime="5000" />
                <CustomBehavior File="InteractWith" QuestId="34824" MobId="86775" GossipOptions="1" Range="5" TerminateWhen="IsObjectiveComplete(3, 34824)" X="5737.327" Y="4538.995" Z="137.9499" />
                <CustomBehavior File="InteractWith" QuestId="34824" MobId="237191" ObjectType="GameObject" NonCompeteDistance="0" WaitTime="5000" Range="3" TerminateWhen="IsObjectiveComplete(2, 34824)" X="5565.679" Y="4499.009" Z="132.0261" />
            </While>
        <TurnIn QuestName="What We Got" QuestId="34824" TurnInName="Gazlowe" TurnInId="78466" X="5564.242" Y="4517.042" Z="132.0609" />
			<Objective QuestName="What We Need" QuestId="34822" Type="CollectItem" ItemId="111907" CollectCount="10" />
			<Objective QuestName="The Ogron Live?" QuestId="34823" Type="KillMob" MobId="80167" KillCount="1" />
		<TurnIn QuestName="The Ogron Live?" QuestId="34823" TurnInName="Rokhan" TurnInId="78487" X="5573.185" Y="4525.507" Z="130.2193" />
		<TurnIn QuestName="What We Need" QuestId="34822" TurnInName="Gazlowe" TurnInId="78466" X="5564.242" Y="4517.042" Z="132.0609"/>
		<PickUp QuestName="Build Your Barracks" QuestId="34461" GiverName="Gazlowe" GiverId="78466" X="5564.242" Y="4517.042" Z="132.0609"/>
            <While Condition="HasQuest(34461) &amp;&amp; !IsQuestCompleted(34461)" > <!-- Build Your Barracks -->
                <CustomBehavior File="InteractWith" QuestId="34461" MobId="231012" ObjectType="GameObject" TerminateWhen="IsObjectiveComplete(1, 34461)" NonCompeteDistance="0" WaitTime="7000" Range="2" X="5579.406" Y="4464.98" Z="132.1373" />
             <While Condition="!IsObjectiveComplete(2, 34461)"> <!-- Learn Blueprint -->
                <CustomBehavior File="Misc\RunLua" Lua="UseItemByName(&quot;item:111956&quot;)" WaitTime="8000" /> <!-- Garrison Blueprint: Barracks, Level 1 -->
             </While>
             <While Condition="!IsObjectiveComplete(3, 34461)"> <!-- Architect Table / Build Your Barracks -->
                <CustomBehavior File="InteractWith" QuestId="34461" MobId="80600" Range="5" WaitTime="6000" X="5563.049" Y="4518.574" Z="131.976" /> <!-- Architect Table -->
                <CustomBehavior File="Misc\RunLua" Lua="C_Garrison.PlaceBuilding(23, 26)" WaitTime="30000" /> <!-- Place Barracks -->
             </While>
             <While Condition="!IsObjectiveComplete(4, 34461)"> <!-- ?? -->
                <CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for cast {TimeRemaining}" />
             </While>
             <While Condition="!IsObjectiveComplete(5, 34461)"> <!-- Finalize Garrison Plot -->
                <CustomBehavior File="InteractWith" QuestId="34461" MobId="231217" ObjectType="GameObject" NonCompeteDistance="0" WaitTime="15000" Range="3" X="5587.527" Y="4476.992" Z="130.2609" />
             </While>
                <CustomBehavior File="Misc\RunLua" Lua="if MovieFrame and MovieFrame:IsVisible() then MovieFrame:StopMovie() elseif CinematicFrame and CinematicFrame:IsVisible() then CinematicFrame_CancelCinematic() end" WaitTime="4000" />
            </While>
        <TurnIn QuestName="Build Your Barracks" QuestId="34461" TurnInName="Gazlowe" TurnInId="78466" X="5587.911" Y="4482.173" Z="130.0529" />
		<PickUp QuestName="We Need An Army" QuestId="34861" GiverName="Gazlowe" GiverId="78466" X="5587.911" Y="4482.173" Z="130.0529" />
		<TurnIn QuestName="We Need An Army" QuestId="34861" TurnInName="Warmaster Zog" TurnInId="79740" X="5556.84" Y="4506.932" Z="132.6776" />
		<PickUp QuestName="Winds of Change" QuestId="34462" GiverName="Warmaster Zog" GiverId="79740" X="5556.84" Y="4506.932" Z="132.6776" />
			<While Condition="HasQuest(34462) &amp;&amp; !IsQuestCompleted(34462)" > <!-- Winds of Change -->
				<CustomBehavior File="InteractWith" QuestId="34462" MobId="80577" Range="5" WaitTime="2000" TerminateWhen="IsObjectiveComplete(1, 34462)" X="5709.614" Y="4001.037" Z="70.64414" />
            </While>
		<TurnIn QuestName="Winds of Change" QuestId="34462" TurnInName="Warmaster Zog" TurnInId="79740" X="5556.84" Y="4506.932" Z="132.6776" />
        <PickUp QuestName="Mission Probable" QuestId="34775" GiverName="Warmaster Zog" GiverId="79740" X="5556.84" Y="4506.932" Z="132.6776" />
            <While Condition="HasQuest(34775) &amp;&amp; !IsQuestCompleted(34775)" > <!-- Delegating on Draenor -->
                <CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for table to activate {TimeRemaining}" />
                <CustomBehavior File="InteractWith" QuestId="34775" MobId="80432" Range="5" WaitTime="2000" X="5558.5" Y="4507.769" Z="132.6842" />

                <!-- try and add addfollowertomission when we find out wth is wrong -->
                <CustomBehavior File="Misc\RunLua" Lua="GarrisonMissionFrameHelpBoxButton:Click()" NumOfTimes="3" WaitTime="500" />
                <CustomBehavior File="Misc\RunLua" Lua="GarrisonMissionFrameMissionsListScrollFrameButton1:Click()" NumOfTimes="1" WaitTime="500" />
                <CustomBehavior File="Misc\RunLua" Lua="GarrisonMissionFrameHelpBoxButton:Click()" NumOfTimes="2" WaitTime="500" />
                <CustomBehavior File="Misc\RunLua" Lua="GarrisonMissionFrameFollowersListScrollFrameButton1:Click()" WaitTime="500" />
                <CustomBehavior File="Misc\RunLua" Lua="GarrisonMissionFrameFollowersListScrollFrameButton1:Click('RightButton')" WaitTime="500" />
                <CustomBehavior File="Misc\RunLua" Lua="DropDownList1:Click()" NumOfTimes="1" WaitTime="500" />
                <CustomBehavior File="Misc\RunLua" Lua="DropDownList1Button1:Click()" NumOfTimes="1" WaitTime="1000" />
                <CustomBehavior File="Misc\RunLua" Lua="GarrisonMissionFrame.MissionTab.MissionPage.StartMissionButton:Click()" WaitTime="5000" />

                <!-- this doesn't work QQ
                <CustomBehavior File="Misc\RunLua" Lua="C_Garrison.AddFollowerToMission(66,34)" NumOfTimes="1" WaitTime="1000" />
                -->
            </While>
        <TurnIn QuestName="Mission Probable" QuestId="34775" TurnInName="Warmaster Zog" TurnInId="79740" X="5556.84" Y="4506.932" Z="132.6776" />
        <!-- End of Our Character's Outpost / Garrison -->
		
		<!--  -->
        <PickUp QuestName="Den of Wolves" QuestId="34379" GiverName="Farseer Drek'Thar" GiverId="76411" X="5582.51" Y="4536.213" Z="133.6954" />
			<If Condition="HasQuest(34379) &amp;&amp; !IsQuestCompleted(34379)" > <!-- Den of Wolves -->
				<CustomBehavior File="InteractWith" QuestId="34379" MobId="78320" Range="5" TerminateWhen="IsObjectiveComplete(1, 34379)" WaitTime="5000" X="5581.288" Y="4556.566" Z="135.8346" />
			</If>
		<TurnIn QuestName="Den of Wolves" QuestId="34379" TurnInName="Durotan" TurnInId="70860" X="5911.496" Y="6237.774" Z="52.17978" />
		<PickUp QuestName="Rally the Frostwolves" QuestId="34380" GiverName="Durotan" GiverId="70860" X="5911.496" Y="6237.774" Z="52.17978" />
		
			<CustomBehavior File="UserDialog" AllowBotStop="True" SoundCue="Exclamation" SoundCueInterval="1" 
										Text="End of Tested Profile. Development from here. \n
										Yes, you read correctly.  There are no more quests after this message. Don't post on forums and ask." />

			<CustomBehavior File="UserDialog" AllowBotStop="True" SoundCue="Exclamation" SoundCueInterval="1" 
			Text="I'm serious, there's no more quests." />

	</QuestOrder>

</HBProfile>
